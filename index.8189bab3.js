const burger=document.querySelector(".burger"),menu=document.querySelector(".nav"),barBurger=document.querySelectorAll(".bar"),body=document.body;burger.addEventListener("click",(()=>{burger.classList.toggle("active"),menu.classList.toggle("active"),body.classList.toggle("stopscroll")})),document.querySelectorAll(".nav__menu").forEach((t=>t.addEventListener("click",(()=>{burger.classList.remove("active"),menu.classList.remove("active"),body.classList.remove("stopscroll")}))));const openCartBtn=document.querySelector("#open-cart"),shoppingCart=document.querySelector(".shoping-cart"),closeBtnCart=document.querySelector(".btn-close"),fadeBlock=document.querySelector("#modal"),fade=document.querySelector(".fade-block");function setCounters(t){let e;if("plus"===t.target.dataset.action||"minus"===t.target.dataset.action){e=t.target.closest(".product__desc-amount").querySelector("[data-counter]")}"plus"===t.target.dataset.action&&(e.innerText=++e.innerText),"minus"===t.target.dataset.action&&parseInt(e.innerText)>1&&(e.innerText=--e.innerText)}openCartBtn.addEventListener("click",(()=>{fadeBlock.classList.remove("hidden"),body.classList.toggle("stopscroll"),fade.addEventListener("click",(function(){fade.classList.add("hidden"),body.classList.remove("stopscroll")}))})),closeBtnCart.addEventListener("click",(()=>{fadeBlock.classList.add("hidden"),body.classList.remove("stopscroll")})),shoppingCart.addEventListener("click",(t=>t.stopPropagation())),window.addEventListener("click",setCounters),shoppingCart.addEventListener("click",setCounters);const cartData=[],cartCount=document.querySelector(".btn-cart span");cartCount.textContent=`${cartData.length}`;const cartWrapper=document.querySelector(".shopping-cart__container");function addProducts(t){if(t.target.hasAttribute("data-cart")){const e=t.target.closest(".products__cards-item"),r={id:e.dataset.id,img:e.querySelector(".products__photo img").getAttribute("src"),name:e.querySelector(".product__name").innerText,price:e.querySelector(".product__price").innerText},c=cartWrapper.querySelector(`[data-id="${r.id}"]`);if(c){c.querySelector("[data-counter]")}else{const t=`\n            <div class="cart-item" data-id="${r.id}">\n                 <div class="cart-item__info">\n                     <img src="${r.img}" alt="${r.name}">\n                     <h3 class="cart-item__title">${r.name}</h3>\n                     <p class="cart-item__price">${r.price}</p>\n                     \n                     <div class="product__desc-amount">\n                           <div class="items__contror" data-action="minus">-</div>\n                           <div class="items__counter" data-counter>1</div>\n                           <div class="items__contror" data-action="plus">+</div>\n                     </div>\n                 </div>\n                 <button data-action="remove" class="btn-remove">X</button>\n             </div>\n            `;cartWrapper.insertAdjacentHTML("beforeend",t),cartData.push(r),cartCount.textContent=`${cartData.length}`,checkEmptyCart()}}}function checkEmptyCart(){if(0===cartData.length){const t='\n        <h3 id="empty">Your shopping cart is empty</h3>\n        ';cartWrapper.insertAdjacentHTML("afterbegin",t)}if(cartData.length>0){const t=document.querySelector("#empty");t&&t.remove()}}checkEmptyCart(),window.addEventListener("click",addProducts),shoppingCart.addEventListener("click",(t=>{if("remove"===t.target.dataset.action){const e=t.target.closest(".cart-item"),r=e.dataset.id,c=cartData.indexOf((t=>t.id===r));cartData.splice(c,1),e.remove(),checkEmptyCart(),cartCount.textContent=`${cartData.length}`}}));const sections=document.querySelectorAll(".section"),links=document.querySelectorAll(".nav__link"),menuList=document.querySelector(".nav__menu"),observer=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&links.forEach((e=>{e.getAttribute("href").replace("#","")===t.target.id?e.classList.add("active"):e.classList.remove("active")}))}))}),{threshold:.3});sections.forEach((t=>observer.observe(t))),menuList.addEventListener("click",(t=>{if(t.target.classList.contains("nav__link")){t.preventDefault();const e=t.target.getAttribute("href").replace("#","");window.scrollTo({top:document.getElementById(e).offsetTop,behavior:"smooth"})}}));
//# sourceMappingURL=index.8189bab3.js.map
